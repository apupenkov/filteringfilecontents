package ru.shiftcft.unit;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.params.provider.Arguments;
import ru.shiftcft.app.statistic.StatisticService;
import ru.shiftcft.data.Basket;
import ru.shiftcft.data.BasketSorter;

import java.math.BigInteger;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Stream;

import static java.math.BigInteger.*;

public class StatisticsUnitTestsConfig {

    Basket basket;
    BasketSorter basketSorter;

    @BeforeEach
    void init() {
        basket = new Basket();
        basketSorter = new BasketSorter();
    }

    StatisticService getStatServiceByInts(List<BigInteger> ints) {
        Basket basket = new Basket();
        basket.getInts().addAll(ints);
        return new StatisticService(basket);
    }

    static Stream<Arguments> max() {
        return Stream.of(
                Arguments.of(Arrays.asList(ONE, TWO,
                        new BigInteger("9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"),
                        new BigInteger("9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"))),
                Arguments.of(Arrays.asList(ZERO, ZERO, ZERO), ZERO),
                Arguments.of(Arrays.asList(ZERO, ONE, TWO), TWO)
        );
    }

    static Stream<Arguments> min() {
        return Stream.of(
                Arguments.of(Arrays.asList(ONE, TWO, valueOf(3)), ONE),
                Arguments.of(Arrays.asList(ZERO, ZERO, ZERO), ZERO),
                Arguments.of(Arrays.asList(ZERO, ONE, TWO), ZERO)
        );
    }

    static Stream<Arguments> avg() {
        return Stream.of(
                Arguments.of(Arrays.asList(
                        new BigInteger("111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"),
                        new BigInteger("222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222"),
                        new BigInteger("666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666")),
                new BigInteger("333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333")),
                Arguments.of(Arrays.asList(ZERO, ZERO, ZERO), ZERO),
                Arguments.of(Arrays.asList(
                        new BigInteger("-111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"),
                        new BigInteger("-666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666"),
                        new BigInteger("-222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222")),
                        new BigInteger("-333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333"))
        );
    }

    static Stream<Arguments> sum() {
        return Stream.of(
                Arguments.of(Arrays.asList(
                        new BigInteger("1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"),
                        new BigInteger("2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222"),
                        new BigInteger("6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666")),
                        new BigInteger("9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999")),
                Arguments.of(Arrays.asList(ZERO, ZERO, ZERO), ZERO),
                Arguments.of(Arrays.asList(ZERO, ONE, TWO), valueOf(3))
        );
    }
}
